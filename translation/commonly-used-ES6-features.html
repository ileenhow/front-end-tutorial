<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常用的ES6特性 | Web前端基础学习路线</title>
    <meta name="description" content="按阶段学习并提升前端技能">
    
    
    <link rel="preload" href="/front-end-tutorial/assets/css/0.styles.5e851d9b.css" as="style"><link rel="preload" href="/front-end-tutorial/assets/js/app.eb207610.js" as="script"><link rel="preload" href="/front-end-tutorial/assets/js/4.bcb20d4d.js" as="script"><link rel="prefetch" href="/front-end-tutorial/assets/js/8.46f5ea74.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/1.8bdd0406.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/2.c50e6379.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/3.7d8863d3.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/5.b7ad3031.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/6.f24eb37d.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/7.b3262fba.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/9.781b9df1.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/10.0aaa5640.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/11.76b14463.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/12.d4f2cd75.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/13.ec8a0858.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/14.df066a1a.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/15.f700b89f.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/16.48215de7.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/17.bdc5aef7.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/18.7de90718.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/19.e6648ac5.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/20.8348e233.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/21.e104bd2f.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/22.beb300fe.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/23.20d246d7.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/24.65a5d324.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/25.d01a6462.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/26.7a1cba58.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/27.ace7fb9a.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/28.49b50e2e.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/29.2ce8d0ca.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/30.2c0bde5c.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/31.d0fc0a67.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/32.6589b5ce.js"><link rel="prefetch" href="/front-end-tutorial/assets/js/33.24d5eed2.js">
    <link rel="stylesheet" href="/front-end-tutorial/assets/css/0.styles.5e851d9b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/front-end-tutorial/" class="home-link router-link-active"><!----><span class="site-name">
      Web前端基础学习路线
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/front-end-tutorial/curated-tutorial/" class="nav-link">学习路径<svg t="1530671021471" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="661" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" class="icon hot"><path d="M972.413874 527.479856a2199212.046653 2199212.046653 0 0 0-106.619971-316.481914c-171.776953 99.629973-213.239942 205.966944-213.239941 210.985943C540.856992 371.753898 581.477981 0 581.477981 0 85.588117 197.589946 279.372064 539.203853 261.604068 562.647846 60.204124 486.459867 83.898117 351.654904 83.898117 351.654904c-201.289945 492.089865 158.446957 710.291806 529.094855 666.969817C943.003882 975.299733 1053.653852 768.61979 972.413874 527.479856" fill="#F46267" p-id="662"></path></svg></a></div><div class="nav-item"><a href="/front-end-tutorial/share/" class="nav-link">分享会<!----></a></div><div class="nav-item"><a href="/front-end-tutorial/translation/" class="nav-link router-link-active">翻译<!----></a></div><div class="nav-item"><a href="/front-end-tutorial/reading-notes/" class="nav-link">读书笔记<!----></a></div><div class="nav-item"><a href="/front-end-tutorial/training/" class="nav-link">新人学习计划<svg t="1530671021471" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="661" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" class="icon hot"><path d="M972.413874 527.479856a2199212.046653 2199212.046653 0 0 0-106.619971-316.481914c-171.776953 99.629973-213.239942 205.966944-213.239941 210.985943C540.856992 371.753898 581.477981 0 581.477981 0 85.588117 197.589946 279.372064 539.203853 261.604068 562.647846 60.204124 486.459867 83.898117 351.654904 83.898117 351.654904c-201.289945 492.089865 158.446957 710.291806 529.094855 666.969817C943.003882 975.299733 1053.653852 768.61979 972.413874 527.479856" fill="#F46267" p-id="662"></path></svg></a></div><a href="https://github.com/wuzhengyan2015/front-end-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/front-end-tutorial/curated-tutorial/" class="nav-link">学习路径<svg t="1530671021471" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="661" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" class="icon hot"><path d="M972.413874 527.479856a2199212.046653 2199212.046653 0 0 0-106.619971-316.481914c-171.776953 99.629973-213.239942 205.966944-213.239941 210.985943C540.856992 371.753898 581.477981 0 581.477981 0 85.588117 197.589946 279.372064 539.203853 261.604068 562.647846 60.204124 486.459867 83.898117 351.654904 83.898117 351.654904c-201.289945 492.089865 158.446957 710.291806 529.094855 666.969817C943.003882 975.299733 1053.653852 768.61979 972.413874 527.479856" fill="#F46267" p-id="662"></path></svg></a></div><div class="nav-item"><a href="/front-end-tutorial/share/" class="nav-link">分享会<!----></a></div><div class="nav-item"><a href="/front-end-tutorial/translation/" class="nav-link router-link-active">翻译<!----></a></div><div class="nav-item"><a href="/front-end-tutorial/reading-notes/" class="nav-link">读书笔记<!----></a></div><div class="nav-item"><a href="/front-end-tutorial/training/" class="nav-link">新人学习计划<svg t="1530671021471" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="661" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" class="icon hot"><path d="M972.413874 527.479856a2199212.046653 2199212.046653 0 0 0-106.619971-316.481914c-171.776953 99.629973-213.239942 205.966944-213.239941 210.985943C540.856992 371.753898 581.477981 0 581.477981 0 85.588117 197.589946 279.372064 539.203853 261.604068 562.647846 60.204124 486.459867 83.898117 351.654904 83.898117 351.654904c-201.289945 492.089865 158.446957 710.291806 529.094855 666.969817C943.003882 975.299733 1053.653852 768.61979 972.413874 527.479856" fill="#F46267" p-id="662"></path></svg></a></div><a href="https://github.com/wuzhengyan2015/front-end-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>翻译</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/front-end-tutorial/translation/commonly-used-ES6-features.html" class="active sidebar-link">常用的ES6特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end-tutorial/translation/commonly-used-ES6-features.html#es6特性列表" class="sidebar-link">ES6特性列表</a></li><li class="sidebar-sub-header"><a href="/front-end-tutorial/translation/commonly-used-ES6-features.html#let-and-const" class="sidebar-link">Let and const</a></li><li class="sidebar-sub-header"><a href="/front-end-tutorial/translation/commonly-used-ES6-features.html#箭头函数" class="sidebar-link">箭头函数</a></li><li class="sidebar-sub-header"><a href="/front-end-tutorial/translation/commonly-used-ES6-features.html#默认参数" class="sidebar-link">默认参数</a></li><li class="sidebar-sub-header"><a href="/front-end-tutorial/translation/commonly-used-ES6-features.html#解构" class="sidebar-link">解构</a></li><li class="sidebar-sub-header"><a href="/front-end-tutorial/translation/commonly-used-ES6-features.html#剩余参数和扩展运算" class="sidebar-link">剩余参数和扩展运算</a></li><li class="sidebar-sub-header"><a href="/front-end-tutorial/translation/commonly-used-ES6-features.html#对象字面量提升" class="sidebar-link">对象字面量提升</a></li><li class="sidebar-sub-header"><a href="/front-end-tutorial/translation/commonly-used-ES6-features.html#模板字符串" class="sidebar-link">模板字符串</a></li><li class="sidebar-sub-header"><a href="/front-end-tutorial/translation/commonly-used-ES6-features.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/front-end-tutorial/translation/react-binding-patterns.html" class="sidebar-link">React绑定模式：5种处理'this'的方法</a></li><li><a href="/front-end-tutorial/translation/the-ultimate-css-battle.html" class="sidebar-link">CSS终极之战：Grid VS Flexbox</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="常用的es6特性"><a href="#常用的es6特性" aria-hidden="true" class="header-anchor">#</a> 常用的ES6特性</h1><p>原文：<a href="https://zellwk.com/blog/es6/" target="_blank" rel="noopener noreferrer">Introduction to commonly used ES6 features<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p><strong>近年来，Javascript已经得到了很大的发展。如果你在2017年学习JavaScript，却还没有接触到ES6，那么你就错过了一种更容易阅读和编写JavaScript的方法。</strong></p><p>如果你还不是JavaScript的高手，不用担心。因为你不需要非常精通JavaScript就可以使用ES6中很棒的新特性。在这篇文章中，我想向你分享我日常开发中经常使用的8个ES6特性，以此帮助你更快的学会新语法。</p><h2 id="es6特性列表"><a href="#es6特性列表" aria-hidden="true" class="header-anchor">#</a> ES6特性列表</h2><p>首先，ES6是对JavaScript的一次巨大更新。如果你好奇有哪些新特性，这里有一个<a href="https://github.com/lukehoban/es6features" target="_blank" rel="noopener noreferrer">新特性大列表<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，感谢<a href="https://twitter.com/lukehoban?lang=en" target="_blank" rel="noopener noreferrer">Luke Hoban<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>整理。</p><ul><li>箭头函数</li><li>类</li><li>对象字面量提升</li><li>模板字符串</li><li>解构</li><li>默认参数 + 剩余语法 + 扩展运算</li><li>Let + const</li><li>Iterators（遍历器） + for..of</li><li>Generators</li><li>Unicode</li><li>模块</li><li>模块加载</li><li>Map + set + weakmap + weakset</li><li>Proxies</li><li>Symbols</li><li>内置对象可继承</li><li>Promises</li><li>Math + number + string + array + object apis</li><li>二进制和八进制字面量</li><li>Reflect api</li><li>尾调用</li></ul><p>不要让这一大堆功能吓跑你，让你远离ES6。你不需要马上懂得全部内容。接下来，我将与你分享我日常中使用的8个特性。它们是：</p><ol><li><a href="#let-and-const">Let and const</a></li><li><a href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0">箭头函数</a></li><li><a href="#%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0">默认参数</a></li><li><a href="#%E8%A7%A3%E6%9E%84">解构</a></li><li><a href="#%E5%89%A9%E4%BD%99%E5%8F%82%E6%95%B0%E5%92%8C%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97">剩余参数和扩展运算</a></li><li><a href="#%E5%AF%B9%E8%B1%A1%E5%AD%97%E9%9D%A2%E9%87%8F%E6%8F%90%E5%8D%87">对象字面量提升</a></li><li><a href="#%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2">模板字符串</a></li><li><a href="https://zellwk.com/blog/js-promises" target="_blank" rel="noopener noreferrer">Promises<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol><p>我们将在下面的章节中介绍八个特性。现在，我将介绍前五个特性。 其余的内容我会在接下来的几个星期里加入。</p><p>顺便说一下，浏览器对ES6的支持是惊人的。如果您为最新的浏览器(Edge，以及最新版本的FF、Chrome和Safari)编写代码，几乎所有东西都是<a href="https://kangax.github.io/compat-table/es6/" target="_blank" rel="noopener noreferrer">直接支持<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>的。</p><p>如果你想编写ES6，你不需要像Webpack那样的花哨的工具。如果您的浏览器支持不足，您可以使用社区创建的回退方案polyfills。 只要google一下:)</p><p>然后，让我们来看第一个特性。</p><h2 id="let-and-const"><a href="#let-and-const" aria-hidden="true" class="header-anchor">#</a> Let and const</h2><p>在ES5（旧的JavaScript）中，我们习惯用<code>var</code>关键字来声明变量。 在ES6中，这个<code>var</code>关键字可以被<code>let</code>和<code>const</code>两个强大的关键字替代，这两个关键字使开发变得更简单。</p><h4 id="let-vs-var"><a href="#let-vs-var" aria-hidden="true" class="header-anchor">#</a> Let vs var</h4><p>让我们先谈谈<code>var</code>，因为我们比较熟悉<code>var</code>。</p><p>首先， 我们可以使用关键字<code>var</code>来声明变量。变量一声明，就可以在当前作用域中的任何地方使用。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> me <span class="token operator">=</span> <span class="token string">'Zell'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>me<span class="token punctuation">)</span> <span class="token comment">// Zell</span>
</code></pre></div><p>在上面的例子中，我声明一个全局变量<code>me</code>。这个全局变量<code>me</code>也可以用在一个函数中，像这样：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> me <span class="token operator">=</span> <span class="token string">'Zell'</span>
<span class="token keyword">function</span> <span class="token function">sayMe</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>me<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">sayMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Zell</span>
</code></pre></div><p>但是，反过来是不行的。如果我在一个函数中声明一个变量，我不能在函数外部使用它。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">sayMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> me <span class="token operator">=</span> <span class="token string">'Zell'</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>me<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">sayMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Zell</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>me<span class="token punctuation">)</span> <span class="token comment">// Uncaught ReferenceError: me is not defined</span>
</code></pre></div><p>所以，我们可以说<code>var</code>是<strong>函数作用域</strong>的。这意味着当一个变量用<code>var</code>在函数中创建时，<strong>它只存在于函数中</strong>。</p><p>如果变量是在函数外部创建的，那么它将存在于外面的作用域。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> me <span class="token operator">=</span> <span class="token string">'Zell'</span> <span class="token comment">// global scope</span>

<span class="token keyword">function</span> <span class="token function">sayMe</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> me <span class="token operator">=</span> <span class="token string">'Sleepy head'</span> <span class="token comment">// local scope</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>me<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">sayMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Sleepy head</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>me<span class="token punctuation">)</span> <span class="token comment">// Zell</span>
</code></pre></div><p>另一方面，<code>let</code>属于块级作用域。这意味着每当用<code>let</code>创建变量时，它只存在于它的块中。</p><p>等等，什么是代码块？</p><p>JavaScript中的一个块是一对花括号中的任何东西。下面是块的例子。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token comment">// new scope block</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// new scope block</span>
<span class="token punctuation">}</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// new scope block</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// new block scope</span>
<span class="token punctuation">}</span>
</code></pre></div><p>块级作用域的变量和函数作用域的变量差别是很大的。当你使用函数作用域的变量时，你可能不经意间重写了一个变量。来看这个例子：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> me <span class="token operator">=</span> <span class="token string">'Zell'</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> me <span class="token operator">=</span> <span class="token string">'Sleepy head'</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>me<span class="token punctuation">)</span> <span class="token comment">// 'Sleepy head'</span>
</code></pre></div><p>上面这个例子中，可以看到在运行完<code>if</code>代码块后，<code>me</code>变成了<code>Sleepy head</code>。这个例子可能不会对你造成任何问题，因为你可以不会声明具有相同名称的变量。</p><p>但是<code>for</code>循环中使用<code>var</code>可能会因为<code>var</code>的作用域而变得有些奇怪。考虑下面这个代码，它在打印变量<code>i</code>4次，然后再使用<code>setTimeout</code>函数延时打印<code>i</code>。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="/front-end-tutorial/assets/img/loop-wrong.e7f47b95.png" alt="wrong-loop"></p><blockquote><p><code>i</code>在<code>setTimeout</code>函数中4次打印的都是5</p></blockquote><p><code>i</code>为什么在4次延时函数中都是输入5？事情的真相只有一个，那就是<code>var</code>声明的变量是函数作用域的，所以在延时函数运行之前，<code>i</code>的值已经通过<code>for</code>循环累加到5了。</p><p>为了在延迟执行的<code>setTimeout</code>函数中能得到正确的<code>i</code>值，我们需要创建另外一个函数，名为<code>logLater</code>，用它来保证在<code>setTimeout</code>函数执行前，里面的要输出的<code>i</code>值不会被<code>for</code>循环改变</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">logLater</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token function">logLater</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="right-loop"></p><blockquote><p><code>i</code>被正确的打印了，1，2，3，4</p></blockquote><p>(顺便提下，这个被称为闭包。<code>setTimeout</code>执行的函数中并没有<code>i</code>变量，它从外层作用域读到了<code>i</code>值)</p><p>好消息是，像上面的<code>for</code>循环中函数作用域的变量产生怪异行为并不会在使用<code>let</code>的时候发生。同样的延时打印的例子可以这样重写，而且它不用写额外的函数就可以输出预期的结果。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="right-loop"></p><blockquote><p><code>i</code>被正确的打印了，1，2，3，4</p></blockquote><p>正如你所看到的，<strong>块级作用域</strong>的变量让开发变得更简单，它消除由<strong>函数作用域</strong>变量带来的常见问题。为了使开发变得简单，我建议你从现在开始声明JavaScript变量时使用<code>let</code>代替<code>var</code>。（ES6已经是新的JavaScript了😎）。</p><p>现在我们已经知道了<code>let</code>的作用了，让我们继续往前，看下<code>let</code>和<code>const</code>的不同。</p><h4 id="let-vs-const"><a href="#let-vs-const" aria-hidden="true" class="header-anchor">#</a> LET VS CONST</h4><p><code>const</code>和<code>let</code>一样也是块级作用域变量。不同之处是<code>const</code>一旦声明了就不能重新赋值。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'Zell'</span>
name <span class="token operator">=</span> <span class="token string">'Sleepy head'</span> <span class="token comment">// TypeError: Assignment to constant variable.</span>

<span class="token keyword">let</span> name1 <span class="token operator">=</span> <span class="token string">'Zell'</span>
name1 <span class="token operator">=</span> <span class="token string">'Sleepy head'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name1<span class="token punctuation">)</span> <span class="token comment">// 'Sleepy head'</span>
</code></pre></div><p>因为<code>const</code>不能被重新赋值，所有它适合用来声明常量。</p><p>假设在我的网站上有一个按钮用来触发一个弹窗。我确定这个按钮只会有一个，而且它不会改变。这个情况下，就可以使用<code>const</code>。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> modalLauncher <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.jsModalLauncher'</span><span class="token punctuation">)</span>
</code></pre></div><p>当声明变量时，只要可以我总是喜欢使用<code>const</code>, 因为这样我能得到额外的提示--这个变量不会被重新赋值。</p><p>接下来，我们继续讨论箭头函数。</p><h2 id="箭头函数"><a href="#箭头函数" aria-hidden="true" class="header-anchor">#</a> 箭头函数</h2><p>箭头函数由箭头（=&gt;）表示，在ES6代码中随处可见。它是匿名函数的简写方式。它们可以用在任何有关键字<code>function</code>的地方。例如：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">98</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>

<span class="token comment">// ES5 way</span>
<span class="token keyword">var</span> moreThan20 <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">&gt;</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// ES6 way</span>
<span class="token keyword">let</span> moreThan20 <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>num <span class="token operator">=&gt;</span> num <span class="token operator">&gt;</span> <span class="token number">20</span><span class="token punctuation">)</span>
</code></pre></div><p>箭头函数相当酷。它们可以用来缩短代码，减少隐藏错误的空间。它们也能帮助你写出便于理解的代码，只要你熟悉了这个语法。</p><p>让我们深入探讨箭头功能的细节，以便你学会识别和使用它们。</p><h4 id="箭头函数的本质"><a href="#箭头函数的本质" aria-hidden="true" class="header-anchor">#</a> 箭头函数的本质</h4><p>首先，让我们讨论下创建函数。在JavaScript中，你可能习惯用这种方式创建函数：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">namedFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something</span>
<span class="token punctuation">}</span>

<span class="token comment">// using the function</span>
<span class="token function">namedFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>还有第二种创建函数的方式。你可以创建一个匿名函数，然后把它赋值给一个变量。为了创建匿名函数，我们去掉了函数声明的函数名称。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">namedFunction</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something</span>
<span class="token punctuation">}</span>
</code></pre></div><p>第三种创建函数的方式是把它直接当做另外一个函数或者方法的参数来创建。这种是匿名函数中最常见的。 这是一个例子：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Using an anonymous function in a callback</span>
button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>因为ES6箭头函数是匿名函数的简写，所以你可以在任何地方用箭头函数替换匿名函数。</p><p>就像这样：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Normal Function</span>
<span class="token keyword">const</span> <span class="token function-variable function">namedFunction</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* do your stuff */</span><span class="token punctuation">}</span>

<span class="token comment">// Arrow Function</span>
<span class="token keyword">const</span> <span class="token function-variable function">namedFunction2</span> <span class="token operator">=</span> <span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">/* do your stuff */</span><span class="token punctuation">}</span>

<span class="token comment">// Normal function in a callback</span>
button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// Arrow function in a callback</span>
button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>是不是看上去差不多？基本上你只要移除<code>function</code>然后在稍微不同的地方用<code>=&gt;</code>替换。</p><p>但是箭头函数有什么不一样的地方呢？难道我们只是用<code>=&gt;</code>替换<code>function</code>?</p><p>实际上，我们不是仅仅用<code>=&gt;</code>替换<code>function</code>。一个箭头函数的语法可以根据以下两个因素而变化:</p><ol><li>需要的<strong>参数个数</strong></li><li>是否想要<strong>隐式返回</strong>。</li></ol><p>第一个因素是传给箭头函数的参数个数。如果只有一个参数，你可以省略参数部分的括号。如果不需要参数，你可以用下划线（<code>_</code>）来代替括号（<code>()</code>）。</p><p>下面的箭头函数都是有效的：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">zeroArgs</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">/* do something */</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">zeroWithUnderscore</span> <span class="token operator">=</span> _ <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">/* do something */</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">oneArg</span> <span class="token operator">=</span> arg1 <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">/* do something */</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">oneArgWithParenthesis</span> <span class="token operator">=</span> <span class="token punctuation">(</span>arg1<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">/* do something */</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">manyArgs</span> <span class="token operator">=</span> <span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">/* do something */</span><span class="token punctuation">}</span>
</code></pre></div><p>箭头函数语法的第二个因素是你是否需要隐式返回。如果函数主体就一行代码，而且没包裹在花括号中，箭头函数会自动用<code>return</code>把这行代码结果返回。</p><p>所以，下面两个是一样的。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">sum1</span> <span class="token operator">=</span> <span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> num1 <span class="token operator">+</span> num2
<span class="token keyword">const</span> <span class="token function-variable function">sum2</span> <span class="token operator">=</span> <span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2 <span class="token punctuation">}</span>
</code></pre></div><p>这两个因素就是你可以写出更简短的代码的原因，就像之前上边写到的<code>moreThan20</code></p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">98</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>

<span class="token comment">// ES5 way</span>
<span class="token keyword">var</span> moreThan20 <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">&gt;</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// ES6 way</span>
<span class="token keyword">let</span> moreThan20 <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>num <span class="token operator">=&gt;</span> num <span class="token operator">&gt;</span> <span class="token number">20</span><span class="token punctuation">)</span>
</code></pre></div><p>综上所述，箭头函数相当酷。它只要花一点时间习惯下，所以多尝试下，你会很快地在各个地方使用到它。</p><p>但是在你喜欢上箭头函数之前，我会向你介绍下箭头函数另外一个可以会让你困惑的特性--<code>lexical this</code>。</p><h4 id="the-lexical-this"><a href="#the-lexical-this" aria-hidden="true" class="header-anchor">#</a> The LEXICAL THIS</h4><p><code>this</code>是唯一一个值会根据它的调用方式而变化的关键字。在浏览器中，当它在任何函数之外调用时，<code>this</code>默认指向<code>Window</code>。</p><div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// Window</span>
</code></pre></div><p><img src="/front-end-tutorial/assets/img/window.4ae96ed2.png" alt="image"></p><blockquote><p>浏览器中<code>this</code>默认指向<code>window</code>对象</p></blockquote><p>当<code>this</code>在一个普通的函数中被调用时， 它会指向全局对象。在浏览器中，<code>this</code>就是指向<code>Window</code>。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">hello</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Window</span>
</code></pre></div><p>在普通函数调用中，JavaScript总是把<code>this</code>指向window对象。这也解释了为什么<code>setTimeout</code>执行的函数中<code>this</code>总是指向<code>Window</code>。</p><p>当<code>this</code>在对象方法中被调用到，<code>this</code>就会指向对象本身：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
  sayThis<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

o<span class="token punctuation">.</span><span class="token function">sayThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// o</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="image"></p><blockquote><p><code>this</code>会指向调用方法的那个对象</p></blockquote><p>当函数以<strong>构造函数</strong>的形式调用时，<code>this</code>指向<strong>新构建的对象</strong>。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
<span class="token punctuation">}</span>

<span class="token keyword">let</span> greg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> thomas <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>greg<span class="token punctuation">)</span> <span class="token comment">// this.age = 22</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>thomas<span class="token punctuation">)</span> <span class="token comment">// this.age = 24</span>
</code></pre></div><p><img src="/front-end-tutorial/assets/img/constructor.8dd13926.png" alt="image"></p><blockquote><p>使用<code>new</code>或者<code>Object.craete()</code>创建对象时，<code>this</code>指向新创建的对象</p></blockquote><p><code>this</code>使用在事件监听函数中的时候，它会指向触发事件的元素</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span>

button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// button</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>正如你看到的上述所有情况，<code>this</code>的值在函数调用时指定。每个函数都定义它自己的<code>this</code>值。</p><p>在箭头函数中，无论函数是怎么调用的，<code>this</code>不会绑定到一个新的值。<code>this</code>总是指向代码所处环境的<code>this</code>值。（顺便提一下，<code>lexical</code> 在 <code>lexical scope</code>中也出现，<code>lexical scope</code>指词法作用域，也可以说是静态作用域，我想这就是<code>lexical this</code>的由来， 静态分析时就确定下来了，而不是动态的）</p><p>好的，这边可以会有些疑惑，让我们看一些实例。</p><p>首先，你永远不要用箭头函数来定义对象的方法，因为这样方法中的<code>this</code>值就不在指向你的对象了。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// Don't do this</span>
  notThis<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// Window</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">objectThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Uncaught TypeError: this.objectThis is not a function</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// Do this</span>
  objectThis<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// o</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// Or this, which is a new shorthand</span>
  <span class="token function">objectThis2</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// o</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>第二，你<em>可能不会</em>像用箭头函数来创建事件监听函数，因为这样函数中的<code>this</code>指就不会再指向监听的元素了。</p><p>然而，你总是可以通过<code>event.currentTarget</code>来获取到正确的<code>this</code>值。这也是我说可能不会的原因。</p><div class="language-js extra-class"><pre class="language-js"><code>button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// button</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> e <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// Window</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span> <span class="token comment">// button</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>第三，在<code>this</code>值在你不期望的情况下发生改变的地方，你可能也会使用<code>lexical this</code>。例子就是延时函数，使用箭头函数后你就<code>that</code>或者<code>self</code>来保存<code>this</code>。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// Old way</span>
  oldDoSthAfterThree<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// Window</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>that<span class="token punctuation">)</span> <span class="token comment">// o</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// Arrow function way</span>
  doSthAfterThree<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// o</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果你需要在一段时间之后添加或删除一个类，这个用例下箭头函数尤其有用:</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
  button<span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span>
  endAnimation<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>button<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'is-closing'</span><span class="token punctuation">)</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>button<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'is-closing'</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>button<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'is-open'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>最后，在箭头函数可以让你代码更整洁的地方尽管使用它，就像上面提过的<code>moreThan20</code></p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">98</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> moreThan20 <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>num <span class="token operator">=&gt;</span> num <span class="token operator">&gt;</span> <span class="token number">20</span><span class="token punctuation">)</span>
</code></pre></div><p>让我们继续。</p><h2 id="默认参数"><a href="#默认参数" aria-hidden="true" class="header-anchor">#</a> 默认参数</h2><p>默认参数在ES6中@#$%^&amp;*()_+...，好吧，就是当我们定义函数时，允许我们指定参数默认值。让我们看个例子，你就知道它真的很有用。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">announcePlayer</span> <span class="token punctuation">(</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> teamName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> lastName <span class="token operator">+</span> <span class="token string">', '</span> <span class="token operator">+</span> teamName<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">announcePlayer</span><span class="token punctuation">(</span><span class="token string">'Stephen'</span><span class="token punctuation">,</span> <span class="token string">'Curry'</span><span class="token punctuation">,</span> <span class="token string">'Golden State Warriors'</span><span class="token punctuation">)</span>
<span class="token comment">// Stephen Curry, Golden State Warriors</span>
</code></pre></div><p>第一眼看上去，代码没有问题。但是如果我们要声明一个和任何球队都无关的球员呢？</p><p>如果我们不传<code>teamName</code>，当前代码就有点尴尬了。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">announcePlayer</span><span class="token punctuation">(</span><span class="token string">'Zell'</span><span class="token punctuation">,</span> <span class="token string">'Liew'</span><span class="token punctuation">)</span>
<span class="token comment">// Zell Liew, undefined</span>
</code></pre></div><p>我确定undefined不是一个球队 😉。</p><p>如果球员是自由球员，把他声明为<code>Zell Liew, unaffiliated</code>比<code>Zell Liew, undefined</code>会更清晰些，是吧？</p><p>为了让<code>announcePlayer</code>能输出<code>Zell Liew, unaffiliated</code>，一种方法是把<code>unaffiliated</code>字符串作为<code>teamName</code>传入函数。</p><p>ES5中，我们可以这样重构下代码：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">announcePlayer</span> <span class="token punctuation">(</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> teamName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>teamName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    teamName <span class="token operator">=</span> <span class="token string">'unaffiliated'</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> lastName <span class="token operator">+</span> <span class="token string">', '</span> <span class="token operator">+</span> teamName<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">announcePlayer</span><span class="token punctuation">(</span><span class="token string">'Zell'</span><span class="token punctuation">,</span> <span class="token string">'Liew'</span><span class="token punctuation">)</span>
<span class="token comment">// Zell Liew, unaffiliated</span>

<span class="token function">announcePlayer</span><span class="token punctuation">(</span><span class="token string">'Stephen'</span><span class="token punctuation">,</span> <span class="token string">'Curry'</span><span class="token punctuation">,</span> <span class="token string">'Golden State Warriors'</span><span class="token punctuation">)</span>
<span class="token comment">// Stephen Curry, Golden State Warriors</span>
</code></pre></div><p>或者，如果你对三元运算符比较熟悉，你可以选择一个精简的版本：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">announcePlayer</span> <span class="token punctuation">(</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> teamName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> team <span class="token operator">=</span> teamName <span class="token operator">?</span> teamName <span class="token punctuation">:</span> <span class="token string">'unaffiliated'</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> lastName <span class="token operator">+</span> <span class="token string">', '</span> <span class="token operator">+</span> team<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在ES6中，当我们定义参数的时候，我们可以添加等号<code>=</code>来设置默认参数。如果我们设置了默认参数，在没传入参数的情况下ES6会自动赋值默认参数。</p><p>所以，在下面的代码中，当<code>teamName</code>为<code>undefiend</code>的时候，它会默认设置成<code>unaffiliated</code>:</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> announcePlayer <span class="token operator">=</span> <span class="token punctuation">(</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> teamName <span class="token operator">=</span> <span class="token string">'unaffiliated'</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> lastName <span class="token operator">+</span> <span class="token string">', '</span> <span class="token operator">+</span> teamName<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">announcePlayer</span><span class="token punctuation">(</span><span class="token string">'Zell'</span><span class="token punctuation">,</span> <span class="token string">'Liew'</span><span class="token punctuation">)</span>
<span class="token comment">// Zell Liew, unaffiliated</span>

<span class="token function">announcePlayer</span><span class="token punctuation">(</span><span class="token string">'Stephen'</span><span class="token punctuation">,</span> <span class="token string">'Curry'</span><span class="token punctuation">,</span> <span class="token string">'Golden State Warriors'</span><span class="token punctuation">)</span>
<span class="token comment">// Stephen Curry, Golden State Warriors</span>
</code></pre></div><p>相当酷，不是吗？😃</p><p>还有一点。如果你想调用默认值，你可以手动传入<code>undefined</code>。当你的需要的默认值不是最后一个参数时，手动传入<code>undefined</code>可以帮到你。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">announcePlayer</span><span class="token punctuation">(</span><span class="token string">'Zell'</span><span class="token punctuation">,</span> <span class="token string">'Liew'</span><span class="token punctuation">,</span> undefined<span class="token punctuation">)</span>
<span class="token comment">// Zell Liew, unaffiliated</span>
</code></pre></div><p>这就是你需要了解的默认参数。 这很简单，非常有用:)</p><h2 id="解构"><a href="#解构" aria-hidden="true" class="header-anchor">#</a> 解构</h2><p>解构是一种能<strong>便捷地从数组和对象中取值的方式</strong>。数组解构和对象解构存在一些细微的差别，所以让我们分别讨论它们。</p><h4 id="对象解构"><a href="#对象解构" aria-hidden="true" class="header-anchor">#</a> 对象解构</h4><p>首先你有下面这个对象：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Zell <span class="token operator">=</span> <span class="token punctuation">{</span>
  firstName<span class="token punctuation">:</span> <span class="token string">'Zell'</span><span class="token punctuation">,</span>
  lastName<span class="token punctuation">:</span> <span class="token string">'Liew'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>为了获取到<code>firstName</code>和<code>lastName</code>的值，你要创建两个变量，然后一个个赋值，像这样：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> firstName <span class="token operator">=</span> Zell<span class="token punctuation">.</span>firstName <span class="token comment">// Zell</span>
<span class="token keyword">let</span> lastName <span class="token operator">=</span> Zell<span class="token punctuation">.</span>lastName <span class="token comment">// Liew</span>
</code></pre></div><p>用上解构的话，你可以用一行代码创建并赋值这些变量。下面展示如何解构对象：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> firstName<span class="token punctuation">,</span> lastName <span class="token punctuation">}</span> <span class="token operator">=</span> Zell

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstName<span class="token punctuation">)</span> <span class="token comment">// Zell</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lastName<span class="token punctuation">)</span> <span class="token comment">// Liew</span>
</code></pre></div><p>看到了没？声明变量时通过添加<code>花括号</code>（<code>{}</code>），我们告诉JavaScript创建前述的变量，然后把<code>Zell.firstName</code>赋值给<code>firstName</code>，把<code>Zell.lastName</code>赋值给<code>lastName</code>。</p><p>这就是底层所做的事：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// What you write</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> firstName<span class="token punctuation">,</span> lastName <span class="token punctuation">}</span> <span class="token operator">=</span> Zell

<span class="token comment">// ES6 does this automatically</span>
<span class="token keyword">let</span> firstName <span class="token operator">=</span> Zell<span class="token punctuation">.</span>firstName
<span class="token keyword">let</span> lastName <span class="token operator">=</span> Zell<span class="token punctuation">.</span>lastName
</code></pre></div><p>现在，如果一个变量名已经被使用了，我们不能再次声明（尤其当你使用<code>let</code>或者<code>const</code>的时候）。</p><p>下面赋值将会失败：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'Zell Liew'</span>
<span class="token keyword">let</span> course <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'JS Fundamentals for Frontend Developers'</span>
  <span class="token comment">// ... other properties</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> course <span class="token comment">// Uncaught SyntaxError: Identifier 'name' has already been declared</span>
</code></pre></div><p>如果你碰到了上述情况，你可以使用<strong>带分号（<code>:</code>）的解构来重命名变量</strong></p><p>在下面这个例子中， 我创建了一个变量<code>courseName</code>并把<code>course.name</code>的值赋值给了它。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> courseName <span class="token punctuation">}</span> <span class="token operator">=</span> course

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>courseName<span class="token punctuation">)</span> <span class="token comment">// JS Fundamentals for Frontend Developers</span>

<span class="token comment">// What ES6 does under the hood:</span>
<span class="token keyword">let</span> courseName <span class="token operator">=</span> course<span class="token punctuation">.</span>name
</code></pre></div><p>还要提到一点。</p><p>不要担心解构一个不存在对象的中变量，它会返回<code>undefined</code>。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> course <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'JS Fundamentals for Frontend Developers'</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token keyword">package</span> <span class="token punctuation">}</span> <span class="token operator">=</span> course

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">package</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span>
</code></pre></div><p>等下，这不是全部，还记得默认参数吗?</p><p>你也可以为你的解构变量写默认参数，语法和你定义函数时一样。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> course <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'JS Fundamentals for Frontend Developers'</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token keyword">package</span> <span class="token operator">=</span> <span class="token string">'full course'</span> <span class="token punctuation">}</span> <span class="token operator">=</span> course

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">package</span><span class="token punctuation">)</span> <span class="token comment">// full course</span>
</code></pre></div><p>你甚至可以在提供默认参数的情况下重命名变量。只要结合两者。一开始这看上去有的滑稽，但是只要你经常使用你会很快习惯：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> course <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'JS Fundamentals for Frontend Developers'</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token keyword">package</span><span class="token punctuation">:</span> packageName <span class="token operator">=</span> <span class="token string">'full course'</span> <span class="token punctuation">}</span> <span class="token operator">=</span> course

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>packageName<span class="token punctuation">)</span> <span class="token comment">// full course</span>
</code></pre></div><p>这就是解构对象的全部内容了，让我们继续来看下解构数组😄。</p><h4 id="解构数组"><a href="#解构数组" aria-hidden="true" class="header-anchor">#</a> 解构数组</h4><p>解构数组和解构对象类似。我们使用<strong>方括号</strong>（<code>[]</code>）代替花括号（<code>{}</code>）。</p><p>当你使用解构数组时，</p><ul><li>你的第一个变量对应的就是数组第一个元素</li><li>你的第二个变量对应的就是数组第二个元素</li><li>类似向下。。。</li></ul><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>one<span class="token punctuation">,</span> two<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>one<span class="token punctuation">)</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>two<span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre></div><p>有可能你解构的变量数超出了数组的长度。这种情况发生时，额外的解构变量会是<code>undefined</code>。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>one<span class="token punctuation">,</span> two<span class="token punctuation">,</span> three<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>one<span class="token punctuation">)</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>two<span class="token punctuation">)</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>three<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
</code></pre></div><p>当解构数组时，我们通常只解构我们需要的变量。如果你想要获取数组剩余的部分，你可以使用剩余操作符（<code>...</code>），像这样:</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> scores <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'98'</span><span class="token punctuation">,</span> <span class="token string">'95'</span><span class="token punctuation">,</span> <span class="token string">'93'</span><span class="token punctuation">,</span> <span class="token string">'90'</span><span class="token punctuation">,</span> <span class="token string">'87'</span><span class="token punctuation">,</span> <span class="token string">'85'</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> third<span class="token punctuation">,</span> <span class="token operator">...</span>rest<span class="token punctuation">]</span> <span class="token operator">=</span> scores

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span> <span class="token comment">// 98</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>second<span class="token punctuation">)</span> <span class="token comment">// 95</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>third<span class="token punctuation">)</span> <span class="token comment">// 93</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rest<span class="token punctuation">)</span> <span class="token comment">// [90, 87, 85]</span>
</code></pre></div><p>我们会在下个部分来讨论剩余操作符。现在，让我们讨论下数组解构的能力 - 变量交换。</p><h4 id="使用解构数组来交换变量值"><a href="#使用解构数组来交换变量值" aria-hidden="true" class="header-anchor">#</a> 使用解构数组来交换变量值</h4><p>假设你有两个变量，<code>a</code>和<code>b</code>。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">2</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">3</span>
</code></pre></div><p>你想要交换这两个变量值，<code>a = 3</code>、<code>b = 2</code>。在ES5中，你临时的变量来完成交换：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">2</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">3</span>
<span class="token keyword">let</span> temp

<span class="token comment">// swapping</span>
temp <span class="token operator">=</span> a <span class="token comment">// temp is now 2</span>
a <span class="token operator">=</span> b <span class="token comment">// a is now 3</span>
b <span class="token operator">=</span> temp <span class="token comment">// b is now 2</span>
</code></pre></div><p>尽管它是有效的，逻辑有点模糊和令人困惑，尤其还引入了第三个变量。</p><p>现在来看下ES6是怎么使用解构数组来完成变量值交换的：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">2</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// semicolon required because next line begins with a square bracket</span>

<span class="token comment">// Swapping with destructured arrays</span>
<span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">]</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre></div><p>💥💥💥. 相比于之前的变量交换方法，简单多了！ 😃</p><p>接下里，让我们讨论下解构对象和数组在函数中运用。</p><h4 id="在声明函数时使用解构对象和数组"><a href="#在声明函数时使用解构对象和数组" aria-hidden="true" class="header-anchor">#</a> 在声明函数时使用解构对象和数组</h4><p>解构最棒的地方就是你可以在任何地方使用它。正如字面意思，你甚至可以在函数中使用解构对象和数组。</p><p>假设我们有一个函数接受一个数组，里面存着成绩分数，然后返回一个前三分数的对象。这个函数类似我们解构数组时所作的。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 注: 你不需要箭头函数就能使用其他ES6特性。</span>
<span class="token keyword">function</span> <span class="token function">topThree</span> <span class="token punctuation">(</span>scores<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> third<span class="token punctuation">]</span> <span class="token operator">=</span> scores
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    first<span class="token punctuation">:</span> first<span class="token punctuation">,</span>
    second<span class="token punctuation">:</span> second<span class="token punctuation">,</span>
    third<span class="token punctuation">:</span> third
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>另外一种写这个函数的方法是当声明函数时就解构数组。这样，你可以少写一行代码。同时，我们也知道我们接受了一个数组参数。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">topThree</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> third<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    first<span class="token punctuation">:</span> first<span class="token punctuation">,</span>
    second<span class="token punctuation">:</span> second<span class="token punctuation">,</span>
    third<span class="token punctuation">:</span> third
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>超级酷，不是吗？😄</p><p>现在，给你一个快速的小测验。因为我们可以把默认参数和解构结合一起使用，所以下面代码怎么解释？</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">sayMyName</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstName <span class="token operator">=</span> <span class="token string">'Zell'</span><span class="token punctuation">,</span>
  lastName <span class="token operator">=</span> <span class="token string">'Liew'</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> lastName<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这是一个棘手的问题。 我们将几个特性组合在一起。</p><p>首先，我们可以看到的是这个函数接受一个对象参数，这个参数是可选的，当值是<code>undefined</code>时有个默认值<code>{}</code>。</p><p>其次，我们尝试从对象中解构<code>firstName</code>和<code>lastName</code>变量。如果变量存在，就使用它。</p><p>最后，如果<code>firstName</code>和<code>lastName</code>在所给的对象中未定义，我们分别设置它们为<code>Zell</code>和<code>Liew</code>。</p><p>所以，函数会产生下面的结果：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">sayMyName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Zell Liew</span>
<span class="token function">sayMyName</span><span class="token punctuation">(</span><span class="token punctuation">{</span>firstName<span class="token punctuation">:</span> <span class="token string">'Zell'</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// Zell Liew</span>
<span class="token function">sayMyName</span><span class="token punctuation">(</span><span class="token punctuation">{</span>firstName<span class="token punctuation">:</span> <span class="token string">'Vincy'</span><span class="token punctuation">,</span> lastName<span class="token punctuation">:</span> <span class="token string">'Zhang'</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// Vincy Zhang</span>
</code></pre></div><p>将解构和默认参数结合在一起相当酷，我喜欢。</p><p>接下里，让我们看下剩余和扩展运算。</p><h2 id="剩余参数和扩展运算"><a href="#剩余参数和扩展运算" aria-hidden="true" class="header-anchor">#</a> 剩余参数和扩展运算</h2><p>剩余参数和扩展运算符看起来很像。它们都是使用三个点（<code>...</code>）。</p><p>它们的不同点取决它们被用来做什么。这就是它们命名不一样的原因。那么，让我们分别看一下剩余参数和扩展操作符。</p><h4 id="剩余参数"><a href="#剩余参数" aria-hidden="true" class="header-anchor">#</a> 剩余参数</h4><p>简单解释下，剩余参数意味着将其余的东西打包成一个数组。它把逗号分隔的一系列参数转换成数组。</p><p>让我们看下剩余参数的实际操作。想象下我们有一个函数，<code>add</code>，用于对所有参数求和。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// 55</span>
</code></pre></div><p>在ES5中，当我们不知道函数参数个数时，我们依靠<code>arguments</code>变量来处理。<code>arguments</code>变量是类数组的<code>Symbol</code>。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">sum</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre></div><p><img src="/front-end-tutorial/assets/img/arguments.05b10fc3.png" alt="arguments"></p><blockquote><p>Arguments是个<code>Symbol</code>，不是数组</p></blockquote><p>参数求和的一个方法是使用<code>Array.prototype.slice.call(arguments)</code>把参数转换成数组，然后使用数组方法<code>forEach</code>或<code>reduce</code>来循环。</p><p>你确定你自己会使用<code>forEach</code>来求和，所以我们看下<code>reduce</code>：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ES5 way</span>
<span class="token keyword">function</span> <span class="token function">sum</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> argsArray <span class="token operator">=</span> Array<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>slice<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
  <span class="token keyword">return</span> argsArray<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> current<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> sum <span class="token operator">+</span> current
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用ES6的剩余参数语法，我们可以<strong>直接把所有逗号分隔的参数打包成一个数组</strong>。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ES6 way</span>
<span class="token keyword">const</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> current<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> sum <span class="token operator">+</span> current<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment">// ES6 way if we didn't shortcut it with so many arrow functions</span>
<span class="token keyword">function</span> <span class="token function">sum</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> current<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> sum <span class="token operator">+</span> current<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>有没有更简洁了？</p><p>现在，我们简要看下我们在解构章节碰到的剩余参数语法。在那里，我们尝试从分数数组中解构成前三的分数。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> scores <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'98'</span><span class="token punctuation">,</span> <span class="token string">'95'</span><span class="token punctuation">,</span> <span class="token string">'93'</span><span class="token punctuation">,</span> <span class="token string">'90'</span><span class="token punctuation">,</span> <span class="token string">'87'</span><span class="token punctuation">,</span> <span class="token string">'85'</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> third<span class="token punctuation">]</span> <span class="token operator">=</span> scores

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span> <span class="token comment">// 98</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>second<span class="token punctuation">)</span> <span class="token comment">// 95</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>third<span class="token punctuation">)</span> <span class="token comment">// 93</span>
</code></pre></div><p>如果我们想要其他剩余的分数，我们可以使用剩余参数来把其他分数打包成一个数组。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> scores <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'98'</span><span class="token punctuation">,</span> <span class="token string">'95'</span><span class="token punctuation">,</span> <span class="token string">'93'</span><span class="token punctuation">,</span> <span class="token string">'90'</span><span class="token punctuation">,</span> <span class="token string">'87'</span><span class="token punctuation">,</span> <span class="token string">'85'</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> third<span class="token punctuation">,</span> <span class="token operator">...</span>restOfScores<span class="token punctuation">]</span> <span class="token operator">=</span> scores

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>restOfScores<span class="token punctuation">)</span> <span class="token comment">// [90, 97, 95]</span>
</code></pre></div><p>如果你还是有一些疑惑，你只要记住这点：<strong>剩余参数会把所有东西打包进一个数组</strong>。它出现在函数参数和解构数组中。</p><p>接着，我们继续来看扩展运算。</p><h4 id="扩展运算符"><a href="#扩展运算符" aria-hidden="true" class="header-anchor">#</a> 扩展运算符</h4><p>扩展运算符和剩余参数行为上正好是相反的。简单地说，它接受一个数组并将它(如jam)传到一个逗号分隔的参数列表中。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">]</span>

<span class="token comment">// These two are exactly the same</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>array<span class="token punctuation">)</span> <span class="token comment">// one two three</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">)</span> <span class="token comment">// one two three</span>
</code></pre></div><p>扩展运算符经常用于连接数组，这种形式比较容易阅读和理解。</p><p>例如，你想把下面的数组组合在一起：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> array1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> array2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'three'</span><span class="token punctuation">,</span> <span class="token string">'four'</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> array3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'five'</span><span class="token punctuation">,</span> <span class="token string">'six'</span><span class="token punctuation">]</span>
</code></pre></div><p>ES5连接数组使用的是<code>Array.concat</code>方法。你可以链式调用<code>Array.concat</code>来连接数组，就像这样：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ES5 way</span>
<span class="token keyword">let</span> combinedArray <span class="token operator">=</span> array1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>array2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>array3<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>combinedArray<span class="token punctuation">)</span> <span class="token comment">// ['one', 'two', 'three', 'four', 'five', 'six']</span>
</code></pre></div><p>ES6有了扩展运算符，你可以把这些数组全部展开到一个新数组中，只要习惯了这样方式更容易阅读。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ES6 way</span>
<span class="token keyword">let</span> combinedArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>array1<span class="token punctuation">,</span> <span class="token operator">...</span>array2<span class="token punctuation">,</span> <span class="token operator">...</span>array3<span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>combinedArray<span class="token punctuation">)</span> <span class="token comment">// ['one', 'two', 'three', 'four', 'five', 'six']</span>
</code></pre></div><p>扩展运算符也可以用来在不改变原数组的情况从数组中删除值。这里常用在Redux中。如果你感兴趣的话，强烈推荐你看<a href="https://egghead.io/lessons/react-redux-avoiding-array-mutations-with-concat-slice-and-spread" target="_blank" rel="noopener noreferrer">Dan Abramove的视频<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p>这就是扩展运算符的全部内容了。</p><h2 id="对象字面量提升"><a href="#对象字面量提升" aria-hidden="true" class="header-anchor">#</a> 对象字面量提升</h2><p>从你开始写JavaScript开始，Objects应该对你来说应该是相对的熟悉。以防你不了解它们，它们看起来是这样的:</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> anObject <span class="token operator">=</span> <span class="token punctuation">{</span>
  property1<span class="token punctuation">:</span> <span class="token string">'value1'</span><span class="token punctuation">,</span>
  property2<span class="token punctuation">:</span> <span class="token string">'value2'</span><span class="token punctuation">,</span>
  property3<span class="token punctuation">:</span> <span class="token string">'value3'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ES6对象字面量扩展带来了三个你会喜欢的提升。它们是：</p><ul><li>属性值简写</li><li>方法简写</li><li>计算的对象属性名</li></ul><p>让我们分别看下他们，我保证会很快的 😃</p><h4 id="属性值简写"><a href="#属性值简写" aria-hidden="true" class="header-anchor">#</a> 属性值简写</h4><p>你有没有注意到，有时把变量赋值给对象属性时，它们名字是一样的。看上去就像这样:</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fullName <span class="token operator">=</span> <span class="token string">'Zell Liew'</span>

<span class="token keyword">const</span> Zell <span class="token operator">=</span> <span class="token punctuation">{</span>
  fullName<span class="token punctuation">:</span> fullName
<span class="token punctuation">}</span>
</code></pre></div><p>好吧，你难道不希望你可以用更短的方式写这个吗?因为这个属性(<code>fullName</code>)和值(<code>fullName</code>)就是一样的。</p><p>(Oh 你被宠坏了 😝).</p><p>好消息是，你可以的! 😃</p><p>ES6对象字面扩展就有属性简写。这意味着你可以只写变量，当你变量名和属性名一样的时候。ES6来处理帮你处理。</p><p>下面就是它的样子：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fullName <span class="token operator">=</span> <span class="token string">'Zell Liew'</span>

<span class="token comment">// ES6 way</span>
<span class="token keyword">const</span> Zell <span class="token operator">=</span> <span class="token punctuation">{</span>
  fullName
<span class="token punctuation">}</span>

<span class="token comment">// Underneath the hood, ES6 does this:</span>
<span class="token keyword">const</span> Zell <span class="token operator">=</span> <span class="token punctuation">{</span>
  fullName<span class="token punctuation">:</span> fullName
<span class="token punctuation">}</span>
</code></pre></div><p>很整齐，呃？ 现在，我们要写的代码少了，我们可以更快打完代码开心地回家了。</p><p><img src="/front-end-tutorial/assets/img/dancing.1f2417a3.gif" alt="dancing"></p><blockquote><p>Wheeeee! Happy! 😃</p></blockquote><p>当我跳舞的时候，请继续走下去，以达到更简短的效果。 我很快就会加入你。</p><h4 id="方法简写"><a href="#方法简写" aria-hidden="true" class="header-anchor">#</a> 方法简写</h4><p>方法是与对象属性关联的函数。 他们只是因为它们的功能而被特意命名:)</p><p>这是一个方法的例子：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> anObject <span class="token operator">=</span> <span class="token punctuation">{</span>
  aMethod<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;I'm a method!~~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用ES6，我们可以更简洁地来写方法。我们可以在方法声明时移除<code>: function</code>，它还是可以正常运行。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> anObject <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ES6 way</span>
  <span class="token function">aShorthandMethod</span> <span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// ES5 way</span>
  aLonghandMethod<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>有了这个提升，对象都可以使用这种简写方式，所以不要再使用箭头函数来定义方法了。因为你会破坏<code>this</code>上下文（如果你忘了为什么的话可以回头看下箭头函数章节）</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> dontDoThis <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// Noooo. Don't do this</span>
  arrowFunction<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这就是对象方法的简写。让我们继续来看下最后一个提升。</p><h4 id="计算的对象属性名"><a href="#计算的对象属性名" aria-hidden="true" class="header-anchor">#</a> 计算的对象属性名</h4><p>有时你创建对象时需要一个动态的属性名。在以前，你要创建对象，然后在把你的属性名加上去，像这样：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ES5</span>
<span class="token keyword">const</span> newPropertyName <span class="token operator">=</span> <span class="token string">'smile'</span>

<span class="token comment">// Create an object first</span>
<span class="token keyword">const</span> anObject <span class="token operator">=</span> <span class="token punctuation">{</span> aProperty<span class="token punctuation">:</span> <span class="token string">'a value'</span> <span class="token punctuation">}</span>

<span class="token comment">// Then assign the property</span>
anObject<span class="token punctuation">[</span>newPropertyName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">':D'</span>

<span class="token comment">// Adding a slightly different property and assigning it</span>
anObject<span class="token punctuation">[</span><span class="token string">'bigger '</span> <span class="token operator">+</span> newPropertyName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'XD'</span>

<span class="token comment">// Result</span>
<span class="token comment">// {</span>
<span class="token comment">//   aProperty: 'a value',</span>
<span class="token comment">//   'bigger smile': 'XD'</span>
<span class="token comment">//   smile: ':D',</span>
<span class="token comment">// }</span>
</code></pre></div><p>在ES6中，你不需要在使用这个迂回的方式了。你可以在创建对象时直接定义动态的属性名。关键一点是你要用方括号把属性名围起来。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> newPropertyName <span class="token operator">=</span> <span class="token string">'smile'</span>

<span class="token comment">// ES6 way.</span>
<span class="token keyword">const</span> anObject <span class="token operator">=</span> <span class="token punctuation">{</span>
  aProperty<span class="token punctuation">:</span> <span class="token string">'a value'</span><span class="token punctuation">,</span>
  <span class="token comment">// Dynamic property names!</span>
  <span class="token punctuation">[</span>newPropertyName<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token string">':D'</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'bigger '</span> <span class="token operator">+</span> newPropertyName<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token string">'XD'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// Result</span>
<span class="token comment">// {</span>
<span class="token comment">//   aProperty: 'a value',</span>
<span class="token comment">//   'bigger smile': 'XD'</span>
<span class="token comment">//   smile: ':D',</span>
<span class="token comment">// }</span>
</code></pre></div><p>很棒，不是吗？</p><p>这就是对象字面量提升的所有内容了。我是不是说过会很快的？ 😃</p><p>让我们继续看另外一个我超喜欢的很棒的特性：模板字符串</p><h2 id="模板字符串"><a href="#模板字符串" aria-hidden="true" class="header-anchor">#</a> 模板字符串</h2><p>在JavaScript中处理字符串是非常笨拙的。当我们之前在默认参数章节创建<code>announcePlayer</code>函数时，你可能自己已经体会到了。那里，我们创建空字符串，来把它们连接在一起。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">announcePlayer</span> <span class="token punctuation">(</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> teamName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> lastName <span class="token operator">+</span> <span class="token string">', '</span> <span class="token operator">+</span> teamName<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在ES6中，有了模板字符串，这个问题不会出现了。</p><p>为了创建模板字符串，你要用倒引号（<code>`</code>）来包裹字符串。在倒引号中，你可以访问一个特殊的占位符(<code>${}</code>)，里面可以正常使用JavaScript。</p><p>这里就是它实际的样子：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> firstName <span class="token operator">=</span> <span class="token string">'Zell'</span>
<span class="token keyword">const</span> lastName <span class="token operator">=</span> <span class="token string">'Liew'</span>
<span class="token keyword">const</span> teamName <span class="token operator">=</span> <span class="token string">'unaffiliated'</span>

<span class="token keyword">const</span> theString <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lastName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>teamName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>theString<span class="token punctuation">)</span>
<span class="token comment">// Zell Liew, unaffiliated</span>
</code></pre></div><p>看到了吗？我们用模板字符串把所有东西组合在了一起！在模板字符串中，英文也是正常的。几乎像在使用模板引擎 😃</p><p>模板字符串中最棒的部分是我们可以用它轻松的创建多行字符串。这是可行的：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> multi <span class="token operator">=</span> <span class="token template-string"><span class="token string">`One upon a time,
In a land far far away,
there lived a witich,
who could change night into day`</span></span>
</code></pre></div><p><img src="/front-end-tutorial/assets/img/multiline.6e691c43.png" alt="multiline"></p><blockquote><p>多行字符串正常工作</p></blockquote><p>一个窍门是使用模板字符串在JavaScript中创建HTML元素，如果需要的话。（注：这可以不是最好的创建方式，但是仍然把一个个创建好）</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> aListOfItems <span class="token operator">=</span>
  <span class="token template-string"><span class="token string">`&lt;ul&gt;
    &lt;li&gt;Point number one&lt;/li&gt;
    &lt;li&gt;Point number two&lt;/li&gt;
    &lt;li&gt;Point number three&lt;/li&gt;
    &lt;li&gt;Point number four&lt;/li&gt;
  &lt;/ul&gt;`</span></span>

container<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> aListOfItems

document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span>
</code></pre></div><p>模板字符串的另外一个特性叫标签模板。“标签”指的就是函数，可以操作紧跟在后面的模板字符串，如果你想要替换任何字符串的话。</p><p>这就是它的样子：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> animal <span class="token operator">=</span> <span class="token string">'lamb'</span>

<span class="token comment">// This a tag</span>
<span class="token keyword">const</span> <span class="token function-variable function">tagFunction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something here</span>
<span class="token punctuation">}</span>

<span class="token comment">// This tagFunction allows you to manipulate the template literal.</span>
<span class="token keyword">const</span> string <span class="token operator">=</span> tagFunction <span class="token template-string"><span class="token string">`Mary had a little </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>animal<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
</code></pre></div><p>说实话，尽管标签函数看上去很酷，但是我还实际使用过它们。如果你想要了解更多，我建议你读<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/template_strings" target="_blank" rel="noopener noreferrer">MDN文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p>这就是模板字符串。</p><h2 id="总结"><a href="#总结" aria-hidden="true" class="header-anchor">#</a> 总结</h2><p>Woo! 这几乎是我经常使用的所有很棒的ES6特性。ES6真是棒极了，它绝对值得花点时间去学习，同时你也可以理解别人在写什么了。</p></div><div class="content edit-link"><a href="https://github.com/wuzhengyan2015/front-end-tutorial/edit/master/docs/translation/commonly-used-ES6-features.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!----></div><div class="content page-nav"><p class="inner"><!----><span class="next"><a href="/front-end-tutorial/translation/react-binding-patterns.html">
          React绑定模式：5种处理'this'的方法
        </a> →
      </span></p></div></div></div></div>
    <script src="/front-end-tutorial/assets/js/4.bcb20d4d.js" defer></script><script src="/front-end-tutorial/assets/js/app.eb207610.js" defer></script>
  </body>
</html>
